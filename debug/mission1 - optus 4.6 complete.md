1. **进度文件管理与临时文件处理**：
   - 在工作流启动时（每次运行6-agents.py），自动检查progress.md文件：
     - 若不存在，创建它并初始化为空文件。
     - 若存在，按序号递增创建新文件（e.g., progress01.md, progress02.md），避免覆盖。
   - 将当前progress文件路径传递给所有Agents。
   - 每个Agent完成其任务后，必须更新该progress文件，记录任务描述、完成状态和关键输出摘要。
   - 工作流结束时，提示用户本次进度记录位于哪个文件中。
   - 关于Agent间生成的md文件（如plan.md以外的临时任务或结果文件）：确认这些文件是否为临时性（e.g., 在流程中创建、传递后自动删除，以避免repo污染）。如果这是当前设计，提供解释；否则，调整为仅保留progress.md作为持久记录，其他文件在运行结束时清理。

2. **优化01-Agent的Repo扫描**：
   - 当前，01-Agent每次执行时扫描整个repo代码并深入理解，这导致高token消耗。
   - 提案：将扫描外包给外部LLM（如Grok/GPT/Gemini），生成一个repo-scan-result.md文件，包含repo结构、关键代码摘要和依赖分析。
   - 如果该文件存在，01-Agent直接读取它并跳过扫描步骤；否则，触发外部扫描并生成文件。
   - 评估此方法的 feasibility：它是否能显著节约token？潜在问题包括文件一致性（e.g., repo变更时需重新生成）和集成方式（e.g., 通过API调用外部LLM）。

3. **Hook机制修复01-Agent越权问题**：
   - 问题描述：尽管Agent.md强化了01-Agent仅负责制定/优化plan.md，但特定prompt（如“对src/6-agents.py进行全面测试和debug，参考plan.md继续修复”）会导致它直接修改代码，超出权限。
   - 解决方案：引入hook文件（e.g., hook.py或集成到6-agents.py），实现权限控制：
     - 限制01-Agent仅对md文件有写权限；其他文件（如.py）仅读权限。
     - 在Agent尝试写操作时，拦截并提醒：“你仅负责plan.md的制定/优化；代码修改任务应委托给下游Agent。”
     - 实现细节：使用文件系统钩子或代理层监控Agent输出，确保plan.md更新后传递给下一个Agent，而非直接执行代码变更。

4. **扩展模式4支持md文件**：
   - 当前模式支持格式如“@dev 修复A && @opti 优化A”。
   - 新需求：扩展为“@dev task1.md && @opti task2.md”，允许直接引用md文件作为任务输入。
   - 实现：解析prompt中的@标签，识别.md文件引用；加载文件内容作为任务描述，并路由到相应Agent（dev for 修复, opti for 优化）。
   - 确保兼容性：处理文件不存在时的错误，并集成到现有调度逻辑中。

